import{r as a,u as f,j as e}from"./index-C8N-Qaqw.js";import{s as x}from"./SupaBase-hXybzm9P.js";const N=()=>{const[n,m]=a.useState(""),[i,d]=a.useState(""),[r,g]=a.useState(""),[l,o]=a.useState(!1),[u,c]=a.useState(""),p=f(),h=async s=>{if(s.preventDefault(),c(""),r.length<6){c("Password must be at least 6 characters long");return}o(!0);try{const{error:t}=await x.from("patientsdata").insert([{name:n,email_id:i,password:r}]);if(t)throw t;alert("Registration successful! Please log in."),p("/login")}catch(t){alert("Error registering new patient: "+t.message)}finally{o(!1)}};return e.jsx("div",{className:"signup-container",children:e.jsxs("form",{className:"signup-form",onSubmit:h,children:[e.jsx("h2",{children:"New Patient Registration"}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Name"}),e.jsx("input",{type:"text",className:"form-input",value:n,onChange:s=>m(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Email"}),e.jsx("input",{type:"email",className:"form-input",value:i,onChange:s=>d(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Password"}),e.jsx("input",{type:"password",className:"form-input",value:r,onChange:s=>g(s.target.value),minLength:6,required:!0}),u&&e.jsx("p",{className:"error-message",children:u})]}),e.jsx("button",{type:"submit",className:"submit-button",disabled:l,children:l?"Registering...":"Register"})]})})};export{N as default};
