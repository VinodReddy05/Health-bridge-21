import{u as d,j as e,L as x,r as n}from"./index-CEwMMO6D.js";import{s as l}from"./SupaBase-DdafNSpo.js";import{N as f}from"./NavBar-DkS9Kew_.js";import j from"./SideBar-C1-efNho.js";import{E as g}from"./Edit-D7SR9c48.js";import{D as p}from"./Delete-BNWQAeSV.js";import"./react-toastify.esm-CPfoCFDA.js";/* empty css                      *//* empty css               */import"./createSvgIcon-ksZbkFwt.js";import"./Close-MmRdREOg.js";const u=({doctor:s})=>{const r=d(),a=async c=>{if(window.confirm("Are you sure you want to delete this doctor?"))try{const{error:t}=await l.from("DoctorsData").delete().eq("id",c);t?alert("Error deleting doctor: "+t.message):(alert("Doctor deleted successfully!"),r("/admin/doctors"))}catch(t){console.error("Error deleting doctor:",t),alert("An error occurred while deleting the doctor.")}};return e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx(j,{}),e.jsxs("div",{className:"doctorcard",children:[e.jsx("img",{src:s.image_url,alt:s.name,className:"doctor-image"}),e.jsxs("div",{className:"doctor-details",children:[e.jsx("h3",{className:"doctor-name",children:s.name}),e.jsx("p",{className:"doctor-info",children:s.info}),e.jsx("p",{className:"doctor-designation",children:s.designation}),e.jsxs("p",{className:"doctor-rating",children:["Rating: ",s.rating]}),e.jsxs("p",{className:"doctor-rating",children:["Degree: ",s.Degree]}),e.jsxs("div",{className:"doctor-actions",children:[e.jsx(x,{to:`/doctors/edit/${s.id}`,children:e.jsx(g,{className:"action-icon edit-icon"})}),e.jsx(p,{className:"action-icon delete-icon",onClick:()=>a(s.id)})]})]})]})]})},A=()=>{const s=d(),[r,a]=n.useState(null),[c,i]=n.useState([]),t=async()=>{const{data:o,error:h}=await l.from("DoctorsData").select();h?(a("Could not fetch data"),i([])):(console.log("Fetched doctors data:",o),i(o),a(null))};n.useEffect(()=>{t()},[]);const m=()=>{s("/Doctors/new")};return e.jsxs("div",{className:"DoctorsData",children:[e.jsx("button",{onClick:m,children:"add Doctor"}),e.jsxs("div",{className:"doctorFetch",children:[r&&e.jsx("p",{children:r}),c&&e.jsx("div",{className:"doctors-grid",children:c.map(o=>e.jsx(u,{doctor:o},o.id||index))})]})]})};export{A as default};
